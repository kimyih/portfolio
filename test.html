<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>portfolio</title>
  <link rel="stylesheet" href="./assets/css/test.css" />
  <link rel="stylesheet" href="./assets/css/font.css" />
  <link rel="stylesheet" href="./assets/script/lenis.js" />

  <!-- GSAP 라이브러리 추가 -->
  <link rel="preconnect" href="//fdn.fontcdn.ir" />
  <link rel="preconnect" href="//v1.fontapi.ir" />
  <link href="https://v1.fontapi.ir/css/SFProDisplay" rel="stylesheet" />

  <style>
    .scroll-anim-wrapper {
      height: 1000vh;
      overflow: hidden;
    }

    .second_section {
      position: sticky;
      top: 0;
      height: 100vh;
    }

    .intro_text {
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.5s ease-out;
    }

    .intro_text.on {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>

<body>
  <div id="wrap">
    <header id="header">
      <ul>
        <li><a href="#">Work</a></li>
        <li><a href="#">PORTFOLIO / ABOUT ME</a></li>
        <li><a href="#">Today is Hot 09:02:31</a></li>
      </ul>
    </header>
    <div class="wrap_container">
      <div class="first_section">
        <div class="first_animation">
          <div class="anibox1"></div>
          <div class="anibox2"></div>
          <div class="anibox3"></div>
          <div class="anibox4"></div>
          <div class="anibox5"></div>
          <div class="anibox6"></div>
          <div class="anibox7"></div>
        </div>
        <div class="first_top_wrap">
          <div class="first_top_line1"></div>
          <div class="first_top_line2"></div>
        </div>
        <div class="first_bottom_wrap">
          <nav class="nav">
            <ul>
              <li><a href="#">AI Modernism of Kharvie</a></li>
              <li><a href="#">PORTFOLIO / ABOUT ME</a></li>
              <li><a href="#">Today is Hot 09:02:31</a></li>
            </ul>
          </nav>
          <div class="cursor"></div>
          <div class="bottom_wrap">
            <span class="introduction" id="intro_text">
              <span class="intro_text">Hello, I am Kim Yihyun, born with the unique</span>
              <img src="./assets/img/intro1.png" alt=" Code" class="inline-image intro1" />
              <span class="intro_text"> binary number 001010. With a </span>
              <img src="./assets/img/intro2.png" alt="" class="inline-image intro2" />
              <span class="intro_text">passion for coding</span>
              <img src="./assets/img/intro3.png" alt="" class="inline-image intro3" />
              <span class="intro_text">
                and creativity, I aim to provide uniq</span>
              <img src="./assets/img/intro4.png" alt="" class="inline-image intro4" />
              <span class="intro_text">ue and capt</span>
              <img src="./assets/img/intro5.png" alt="" class="inline-image intro5" />
              <span class="intro_text">ivating web ex </span>
              <img src="./assets/img/intro8.png" alt=" Code" class="inline-image intro1" />
              <span>periences where technology and art harmonize. I always enjoy
              </span>
              <img src="./assets/img/intro6.png" alt="" class="inline-image intro6" />
              <span class="intro_text">new challenges and continuously grow, str</span>
              <img src="./assets/img/intro7.png" alt="" class="inline-image intro7" />
              <span class="intro_text">iving to push the boundaries of web development. Thank
                you.</span>
              <div class="line__wrap">
                <div class="bottom_line1"></div>
                <div class="bottom_line2"></div>
                <div class="bottom_line3"></div>
                <div class="bottom_line4"></div>
              </div>
            </span>
          </div>
        </div>
      </div>

      <div class="anim_section"></div>

      <div class="scroll-anim-wrapper">
        <div class="experiment-content-wrapper text">
          <div class="second_section">
            <div class="projecn1_left_wrap">
              <div class="project1_title">
                <div class="pr1_codepin">Codepin</div>
                <div class="pr2_booking"></div>
                <span class="pr1_project">PROJECT</span>
              </div>
              <div class="project1_line_wrap">
                <div class="project1_line"></div>
                <div class="project1_line_info">
                  <div class="pj_line_title">Code View</div>
                  <div class="pj_line_arrow">
                    <img src="./assets/img/Arrow1.svg" alt="" />
                  </div>
                </div>
              </div>
            </div>
            <div class="project1_right_wrap">
              <div class="pj1_skill">
                <span class="pj1_skill_title">[SKILL]</span>
                <span class="pj1_skill_desc1">MYSQL</span>
                <span class="pj1_skill_desc2">Javascript</span>
                <span class="pj1_skill_desc3">PHP</span>
              </div>
              <div class="pj1_desc">
                <span class="pj1_desc1">Codepin은 코드를 URL로 관리하고</span>
                <span class="pj1_desc2">URL 입력 시 사이트 정보를 확인하며,</span>
                <span class="pj1_desc3">유용한 코드를 공유하는 공간입니다.
                </span>
              </div>
            </div>
            <div class="second_container">
              <div class="projectimg_1">
                <img src="./assets/img/project1.png" alt="프로젝트1" />
              </div>
              <div class="projectimg_2">
                <img src="./assets/img/project2.png" alt="프로젝트2" />
              </div>
              <div class="projectimg_3">
                <img src="./assets/img/project3.png" id="triggerImage3" alt="프로젝트3" />
              </div>
            </div>
            <div class="img_slide">
              <div class="img-slider-item next _2">
                <img src="./assets/img/project2.png" id="big-photo-2" alt="프로젝트2" />
              </div>
              <div class="img-slider-item next _3">
                <img src="./assets/img/project3.png" id="big-photo-3" alt="프로젝트3" />
              </div>
              <div class="img-slider-item next _4">
                <img src="./assets/img/project4.png" id="big-photo-4" alt="프로젝트4" />
              </div>
              <div class="img-slider-item next _5">
                <img src="./assets/img/project5.png" id="big-photo-5" alt="프로젝트5" />
              </div>
              <div class="img-slider-item next _6">
                <img src="./assets/img/project6.png" id="big-photo-6" alt="프로젝트6" />
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- //second_section -->
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollToPlugin.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

      // header 요소를 선택
      const header = document.querySelector("#header");
      header.style.display = "none"; // 초기에는 숨김

      // ScrollTrigger 설정
      ScrollTrigger.create({
        trigger: ".nav",
        start: "bottom top", // .nav가 화면 상단에 닿았을 때 시작
        end: "bottom+=9999 top", // 트리거가 계속 활성화되도록 끝 지점 설정
        onEnter: () => {
          gsap.to(header, {
            display: "flex",
            opacity: 1,
            y: 0,
            duration: 0.2,
          });
        },
        onLeaveBack: () => {
          gsap.to(header, {
            opacity: 0,
            y: -100,
            duration: 1,
            scrub: 1,
            onComplete: () => (header.style.display = "none"),
          });
        },
      });

      // 이미지 애니메이션 설정
      const images = document.querySelectorAll(".second_container img");

      images.forEach((img, i) => {
        gsap.fromTo(
          img,
          { y: 0 + i * 600, opacity: 0 },
          {
            y: 0,
            opacity: 1,
            duration: 8,
            scrollTrigger: {
              trigger: ".second_section",
              start: "top center+=100",
              end: "top top",
              scrub: 1,
            },
            delay: i * 2,
          }
        );
      });

      // .introduction 안의 <span> 요소 애니메이션 설정
      const spans = document.querySelectorAll(".intro_text");

      spans.forEach((span, i) => {
        gsap.fromTo(
          span,
          { y: 100, opacity: 0 },
          {
            y: 0,
            opacity: 1,
            duration: 1,
            scrollTrigger: {
              trigger: span,
              start: "top bottom",
              end: "top center",
              scrub: true,
              toggleActions: "play none none reverse",
            },
            delay: i * 0.2,
          }
        );
      });

      // 메인 타임라인 설정
      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: ".second_section",
          start: "top top",
          end: "bottom+=500% top",
          scrub: 1,
          pin: true,
          pinSpacing: true,
          markers: true,
        },
      });

      // 이미지들을 오른쪽으로 이동하는 애니메이션
      tl.to(".projectimg_1 img", {
        x: "206.2%",
        duration: 40,
        ease: "power1.inOut",
      })
        .to(
          ".projectimg_2 img",
          { x: "103.1%", duration: 40, ease: "power1.inOut" },
          "<"
        )
        .fromTo(
          ".projecn1_left_wrap",
          { display: "none", opacity: 0 },
          {
            display: "block",
            opacity: 1,
            duration: 40,
            ease: "power1.inOut",
            onStart: () => gsap.set(".projecn1_left_wrap", { display: "block" }),
          },
          "<"
        )
        .fromTo(
          ".project1_right_wrap",
          { display: "none", opacity: 0 },
          {
            display: "block",
            opacity: 1,
            duration: 40,
            ease: "power1.inOut",
            onStart: () => gsap.set(".project1_right_wrap", { display: "block" }),
          },
          "<"
        );

      // 이미지 슬라이드 애니메이션과 텍스트 변경
      const slides = [".img-slider-item.next._2", ".img-slider-item.next._3", ".img-slider-item.next._4", ".img-slider-item.next._5", ".img-slider-item.next._6"];
      const titles = ["Codepin", "Booking", "Qbit", "REACT.JS", "REACT.JS"];
      const projects = ["PROJECT", "PROJECT", "PROJECT", "API-MOVIE", "API-MUSIC"];
      const skills = [
        ["MYSQL", "Javascript", "PHP"],
        ["React", "Node.js", "MongoDB"],
        ["Vue.js", "Express", "PostgreSQL"],
        ["Angular", "Django", "SQLite"],
        ["Svelte", "Flask", "Oracle"]
      ];
      const descriptions = [
        ["Codepin은 코드를 URL로 관리하고", "URL 입력 시 사이트 정보를 확인하며,", "유용한 코드를 공유하는 공간입니다."],
        ["Booking은 온라인 예약 시스템으로", "사용자 친화적인 인터페이스를 제공하며,", "다양한 서비스 예약이 가능합니다."],
        ["Project 3은 혁신적인 웹 애플리케이션으로", "사용자 경험을 극대화하고,", "효율적인 데이터 관리를 지원합니다."],
        ["Project 4는 AI 기반 분석 도구로", "복잡한 데이터를 시각화하고,", "의사결정을 돕는 인사이트를 제공합니다."],
        ["Project 5는 블록체인 기술을 활용한", "안전하고 투명한 거래 플랫폼으로,", "신뢰할 수 있는 서비스를 제공합니다."]
      ];

      slides.forEach((slide, index) => {
        tl.set(slide, { zIndex: 10 + index })
          .to(slide, {
            yPercent: -100,
            duration: 40,
            ease: "power1.inOut",
            onStart: () => {
              // 타이틀 변경
              gsap.to(".pr1_codepin", {
                opacity: 0,
                y: -20,
                duration: 0.2,
                onComplete: () => {
                  document.querySelector(".pr1_codepin").textContent = titles[index];
                  gsap.to(".pr1_codepin", { opacity: 1, y: 0, duration: 0.2 });
                }
              });

              // 프로젝트 번호 변경
              gsap.to(".pr1_project", {
                opacity: 0,
                y: -20,
                duration: 0.2,
                onComplete: () => {
                  document.querySelector(".pr1_project").textContent = projects[index];
                  gsap.to(".pr1_project", { opacity: 1, y: 0, duration: 0.2 });
                }
              });

              // 스킬 설명 변경
              skills[index].forEach((skill, i) => {
                gsap.to(`.pj1_skill_desc${i + 1}`, {
                  opacity: 0,
                  y: -20,
                  duration: 0.2,
                  onComplete: () => {
                    document.querySelector(`.pj1_skill_desc${i + 1}`).textContent = skill;
                    gsap.to(`.pj1_skill_desc${i + 1}`, { opacity: 1, y: 0, duration: 0.2 });
                  }
                });
              });

              // 프로젝트 설명 변경
              descriptions[index].forEach((desc, i) => {
                gsap.to(`.pj1_desc${i + 1}`, {
                  opacity: 0,
                  y: -20,
                  duration: 0.2,
                  onComplete: () => {
                    document.querySelector(`.pj1_desc${i + 1}`).textContent = desc;
                    gsap.to(`.pj1_desc${i + 1}`, { opacity: 1, y: 0, duration: 0.2 });
                  }
                });
              });
            }
          }, "+=1");
      });

      // 텍스트 스크롤 애니메이션
      const textElements = document.querySelectorAll(".projecn1_left_wrap *, .project1_right_wrap *");
      textElements.forEach((element) => {
        gsap.fromTo(
          element,
          { y: 100, opacity: 0 },
          {
            y: 0,
            opacity: 1,
            duration: 1,
            scrollTrigger: {
              trigger: element,
              start: "top bottom-=100",
              end: "top center",
              scrub: true,
              toggleActions: "play none none reverse",
            },
          }
        );
      });

      // 스크롤 잠금 및 해제 함수
      function lockScroll() {
        document.body.style.overflow = "hidden";
      }

      function unlockScroll() {
        document.body.style.overflow = "";
      }

      // ScrollTrigger 이벤트 리스너 추가
      ScrollTrigger.create({
        trigger: ".second_section",
        start: "top top",
        end: "bottom bottom",
        onEnter: lockScroll,
        onLeaveBack: unlockScroll,
        onLeave: unlockScroll,
      });

      // 커서 애니메이션
      const cursor = document.querySelector(".cursor");
      const bottomWrap = document.querySelector(".bottom_wrap");

      function updateCursorPosition(e) {
        const scrollTop = window.scrollY || document.documentElement.scrollTop;
        const scrollLeft = window.scrollX || document.documentElement.scrollLeft;

        cursor.style.left = `${e.clientX + scrollLeft}px`;
        cursor.style.top = `${e.clientY + scrollTop}px`;
      }

      function handleMouseEnter() {
        cursor.classList.add("visible");
      }

      function handleMouseLeave() {
        cursor.classList.remove("visible");
      }

      document.addEventListener("mousemove", updateCursorPosition);

      bottomWrap.addEventListener("mouseenter", handleMouseEnter);
      bottomWrap.addEventListener("mouseleave", handleMouseLeave);
    });
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const introduction = document.getElementById("intro_text");
      const bottomWrap = document.querySelector(".bottom_wrap");

      function adjustHeight() {
        const introHeight = introduction.offsetHeight;
        bottomWrap.style.height = `${introHeight}px`;
      }

      adjustHeight();
      window.addEventListener("resize", adjustHeight);
    });
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const cursor = document.querySelector(".cursor");
      const bottomWrap = document.querySelector(".bottom_wrap");

      function updateCursorPosition(e) {
        const scrollTop =
          window.scrollY || document.documentElement.scrollTop;
        const scrollLeft =
          window.scrollX || document.documentElement.scrollLeft;

        cursor.style.left = `${e.clientX + scrollLeft}px`;
        cursor.style.top = `${e.clientY + scrollTop}px`;
      }

      function handleMouseEnter() {
        cursor.classList.add("visible");
      }

      function handleMouseLeave() {
        cursor.classList.remove("visible");
      }

      document.addEventListener("mousemove", updateCursorPosition);

      bottomWrap.addEventListener("mouseenter", handleMouseEnter);
      bottomWrap.addEventListener("mouseleave", handleMouseLeave);
    });
  </script>
</body>

</html>